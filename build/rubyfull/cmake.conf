set(rubyfull_version "3.0.0")
set(rubyfull_download_command git clone https://github.com/Scorbutics/ruby-for-android5.git rubyfull-${rubyfull_version})
set(rubyfull_extract_command cp -r ${CMAKE_SOURCE_DIR}/download/rubyfull-${rubyfull_version} ./)
set(rubyfull_configure_command ./configure )
set(rubyfull_build_command cmake --build .)
set(rubyfull_install_command 
    cp -r `pwd`/target/usr/* ${CMAKE_SOURCE_DIR}/target/usr/ && 
    cp -r `realpath ${CMAKE_SOURCE_DIR}/target/usr/local/include/ruby-${rubyfull_version}/${CMAKE_LIBRARY_ARCHITECTURE}-*`/* ${CMAKE_SOURCE_DIR}/target/usr/local/include/ &&
    cp -r ${CMAKE_SOURCE_DIR}/target/usr/local/include/ruby-${rubyfull_version}/* ${CMAKE_SOURCE_DIR}/target/usr/local/include/ &&
    rm -r ${CMAKE_SOURCE_DIR}/target/usr/local/include/ruby-${rubyfull_version}
)

add_custom_target(rubyfull)
